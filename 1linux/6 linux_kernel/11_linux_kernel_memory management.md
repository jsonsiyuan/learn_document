# 内存管理 #

## 分段机制 ##
分段机制解决问题的思路可以总结为增加一个虚拟地址。

## 分页机制 ##

- 分页机制把这个分配机制的单位继续细分成固定大小的也不页（Page）。这比分段机制效率高。操作系统为了管理这些页针需要按照物理地址顺序给每个页帧编号。
- 每个页帧需要特别的数据结构来管理。
- 硬件有专门的内存管理单元。

## 物理内存管理 ##

- 处理器内部有个叫做MMU的硬件单元，他会处理虚拟内存到物理内存的映射关系，也就是做页表的翻译工作。linux内核中有个*struct page*数据结构来描述的。
- linux内核为每个物理页面都分配了一个struct page数据结构。采用mem_map[]数组的形式来存放这些struct page数据结构。

## 内存管理区 ##
使用struct zone来进行管理。

## 分配小块内存 ##
slab 核心的分配思想是在空闲时建立对象池。

## 虚拟地址管理 ##
- 进程空间地址在内核中使用struct vm_area_struct 数据结构描述
- 进程内存区域以及他们对应的页表映射，使用mm_struct。vm_area_struct 在mm_struct中。

## 缺页异常 ## 
比较重要

## 内存短缺 ##
- LRU算法 最近最少使用
- OOM killer                                                                                                                                                          



